# JWT

思考：
登录与注册这两个接口是不需要登录状态的
现在我们还有一个卡券的接口，能够获取到当前用户的卡券数据。这个接口需要校验用户有没有登录么？
(要)

前端不是已经对卡券页面做了拦截么? 为什么接口这里也要做验证呢?
前端路由拦截实现的仅仅是页面的拦截，如果有人直接知道了接口的url地址, 直接去调用接口呢? 这时接口没有校验的话, 就不安全了。

## JSON WEB TOKEN

一款前后端分离的项目的用户方案。简称 JWT

1. 用户发送用户名与密码到服务器做登录操作
2. 服务器验证通过登录之后, 然后需要签发一个JWT, 这个JWT 中可以存放着用户的权限角色登录时间等信息。
3. 服务器将签发好的JWT返回给用户, 用户需要自主保存这个JWT(cookie、localStorage、sessionStorage)
4. 后续调用需要做校验的接口时, 需要将保存的JWT携带在请求头中传递给后台(自定义请求头,比如ACCESS_TOKEN)
5. 服务端可以从请求头中拿出 ACCESS_TOKEN 的值, 值就是之前签发的JWT。然后去校验JWT的有效性。

PS: nodejs 中要使用 jwt。可以安装 jsonwebtoken 这个模块 (包)
